<?php echo $this->doctype(); ?>

<html lang="en">
<head>
    <meta charset="utf-8">
    <?php echo $this->headTitle('The SMILE Project')->setSeparator(' - ')->setAutoEscape(false) ?>

    <?php echo $this->headMeta()
        ->appendName('viewport', 'width=device-width, initial-scale=1.0')
        ->appendHttpEquiv('X-UA-Compatible', 'IE=edge');
    ?>

    <!-- Le styles -->
    <?php echo $this->headLink(array('rel' => 'shortcut icon', 'type' => 'image/png', 'href' => $this->basePath() . '/img/favicon.png'))
        ->prependStylesheet($this->basePath('css/style.css'))
        ->prependStylesheet($this->basePath('css/material-icons.css'))
        ->prependStylesheet($this->basePath('css/angular-common-libs.css')) ?>

    <!-- Scripts -->
    <?php echo $this->headScript()
        // TODO: In Production mode, use app.min.js which is a minified version of everything below. It must be
        // generated using grunt concat/uglify task.
        // Global files
        ->appendFile($this->basePath('js/angular-common-libs.js'))
        ->appendFile($this->basePath('js/translations.js'))
        ->appendFile($this->basePath('js/BackofficeApp.js'))
        ->appendFile($this->basePath('js/ErrorService.js'))
        ->appendFile($this->basePath('js/ConfigService.js'))
        // Admin section
        ->appendFile($this->basePath('js/admin/AdminLogsService.js'))
        ->appendFile($this->basePath('js/admin/AdminServerService.js'))
        ->appendFile($this->basePath('js/admin/AdminUsersService.js'))
        ->appendFile($this->basePath('js/admin/BackofficeAdminLogsCtrl.js'))
        ->appendFile($this->basePath('js/admin/BackofficeAdminServerCtrl.js'))
        ->appendFile($this->basePath('js/admin/BackofficeAdminUsersCtrl.js'))
        // KB Info
        ->appendFile($this->basePath('js/kb/info/AmvService.js'))
        ->appendFile($this->basePath('js/kb/info/AssetService.js'))
        ->appendFile($this->basePath('js/kb/info/BackofficeKbInfoCtrl.js'))
        ->appendFile($this->basePath('js/kb/info/BackofficeKbInfoObjectCtrl.js'))
        ->appendFile($this->basePath('js/kb/info/MeasureService.js'))
        ->appendFile($this->basePath('js/kb/info/ObjlibService.js'))
        ->appendFile($this->basePath('js/kb/info/ThreatService.js'))
        ->appendFile($this->basePath('js/kb/info/VulnService.js'))
        // KB ROLF
        ->appendFile($this->basePath('js/kb/rolf/BackofficeKbOpRiskCtrl.js'))
        ->appendFile($this->basePath('js/kb/rolf/CategoryService.js'))
        ->appendFile($this->basePath('js/kb/rolf/RiskService.js'))
        ->appendFile($this->basePath('js/kb/rolf/TagService.js'))
        // KB Models
        ->appendFile($this->basePath('js/kb/models/BackofficeKbModelsCtrl.js'))
        ->appendFile($this->basePath('js/kb/models/BackofficeKbModelsDetailsCtrl.js'))
        ->appendFile($this->basePath('js/kb/models/BackofficeAnrObjectInstanceCtrl.js'))
        ->appendFile($this->basePath('js/kb/models/ModelService.js'))
        // Other KB sections
        ->appendFile($this->basePath('js/kb/BackofficeAnalysisGuidesCtrl.js'))
        ->appendFile($this->basePath('js/kb/BackofficeAnalysisGuidesItemsCtrl.js'))
        ->appendFile($this->basePath('js/kb/BackofficeDocModelsCtrl.js'))
        ->appendFile($this->basePath('js/kb/CreateObjlibDialogCtrl.js'))
        ->appendFile($this->basePath('js/kb/DocModelService.js'))
        ->appendFile($this->basePath('js/kb/GuideService.js'))
        // General sections
        ->appendFile($this->basePath('js/BackofficeAccountCtrl.js'))
        ->appendFile($this->basePath('js/BackofficeLoginCtrl.js'))
        ->appendFile($this->basePath('js/BackofficePasswordForgottenCtrl.js'))
        ->appendFile($this->basePath('js/BackofficeMainCtrl.js'))
        ->appendFile($this->basePath('js/BackofficeClientMgmtCtrl.js'))
        ->appendFile($this->basePath('js/ClientService.js'))
        ->appendFile($this->basePath('js/UserService.js'))
        ->appendFile($this->basePath('js/UserProfileService.js'))
        // Helpers
        ->appendFile($this->basePath('js/TableHelperService.js'))
        ->appendFile($this->basePath('js/DownloadService.js')); ?>

</head>
<body ng-app="BackofficeApp" layout="column" flex>
<section layout="row" flex ui-view="main">
</section>

<?php echo $this->inlineScript() ?>

</body>
</html>

